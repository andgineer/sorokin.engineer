---
layout: post
lang: ru
ref: e2e_tests
title: "Тестирование сайта с помощью Selenium Grid и Python"
comments: true
tags: [Python, test, pytest, docker, docker-compose, selenium, webdriver, allure]
redirect_from: "/posts/ru/e2e_tests/"
---
![](/images/allure-report.png){:.post-title}

Я хочу поделиться опытом, как в несколько кликов вы можете создать себе
инфраструктуру для тестирования сайта.

В ней будет инструмент для управления браузерами Selenuim WebDriver.

Тесты мы будем писать на Python 3.

Шикарно выглядящеи отчеты, такие как на картинке выше, нам будет строить
allure.

И мы не будем тратить время на настройку всего этого хозяйства - уже 
подготовлена конфигурация в docker, разворачиваемая ровно одной командой.

Так что все что вам необходимо:
* Работающий docker-compose
* Python 3 (все нужные библиотеки мы установим)

Скачиваем [заготовку нашего проекта](https://github.com/masterandrey/e2e-tests)

    git pull https://github.com/masterandrey/e2e-tests.git
    
Это создаст нам каталог `e2e-tests`, переходим туда и запускаем в этом каталоге    

    docker-compose up -d
    
После этого у нас магически появляется веб-сервис построителя отчетов 
по адресу `http://localhost:4040`. 
Он автоматически строит отчеты по данным, которые тесты помещают в папку
`allure-results`.

Также у нас начинает работать Selenium Grid.
Это сервис, предоставляющий браузеры `Chrome` и
`Firefox` для запуска в них тестов. 

Мы используем docker для запуска Selenium Grid потому что в противном
случае рискуем надолго углубиться в изощренный секс по его установке на
нашей разработческой машине. Иногда это получается сразу и без проблем,
а иногда приводит к продолжительному биению головой об стену.
В docker это все заработает гарантированно и без проблем.

Это все - наслаждайтесь. Запустите пробный тест командой

    ./test.sh
    
И смотрите красивый отчет в браузере по адресу `http://localhost:4040`.
